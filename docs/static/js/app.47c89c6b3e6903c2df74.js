webpackJsonp([6,4],{0:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var u=t(69),a=o(u),r=t(47),i=o(r),c=t(68),f=o(c),s=t(108),d=o(s),l=t(107),p=o(l);t(58),t(66),a.default.use(f.default);var h=new f.default({routes:d.default}),v=p.default.init({path:"ws://118.190.4.119:9001",open:function(){console.log("open success")}});a.default.mixin({data:function(){return{receiveMsg:!1}},created:function(){var e=this;this.receiveMsg&&v.on("message",function(n){e.$execute(n.type,n)})},methods:{$execute:function(e,n){"function"==typeof this[e]&&this[e](n)},login:function(e){v.setHeader({token:e}),this.send(e,"login")},send:function(e,n){v.send(e,n)}}});var m=new a.default({el:"#app",router:h,render:function(e){return e(i.default)}});h.beforeEach(function(e,n,t){0===e.matched.length&&m.$router.replace({name:"no-page",params:{message:e.path}}),t()}),document.addEventListener("touchmove",function(e){e.preventDefault()},!1),t.e(3,function(e){var n=t(67);n.attach(document.body)})},47:function(e,n,t){var o,u;t(63),o=t(109);var a=t(126);u=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(u=o=o.default),"function"==typeof u&&(u=u.options),u.render=a.render,u.staticRenderFns=a.staticRenderFns,e.exports=o},58:function(e,n){},63:function(e,n){},66:function(e,n){},107:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}var u=t(101),a=o(u),r=t(106),i=o(r),c=t(105),f=o(c);n.init=function(e){function n(){if(s.length){var e=s.shift();t(e),n()}}function t(n){r?(n.header=e.header,d.send((0,a.default)(n))):s.push(n)}function o(e,n){var t=c[e];t&&t.forEach(function(e){return e(n)})}var u=this,r=!1,c={},s=[],d="",l=function(){u._ws=new window.WebSocket(e.path),d=u._ws,u._ws.onopen=function(n){r=!0,e._open(),e.open.call(u,n)},u._ws.onmessage=function(e){var n=e.data;o("message",JSON.parse(n))},u._ws.onclose=function(n){r=!1,e._close(),e.close.call(u,n)},u._ws.onerror=function(n){e.error.call(u,n)}},p={open:function(){},_open:function(){n()},_close:function(){setTimeout(l,5e3)},close:function(){},message:function(){},error:function(){},header:{}};return e=(0,f.default)({},p,e),this.setHeader=function(n,t){"object"===("undefined"==typeof n?"undefined":(0,i.default)(n))?e.header=(0,f.default)({},e.header,n):e.header[n]=t},this.send=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,o={data:e,type:n};t(o)},this.on=function(e,n){c[e]||(c[e]=[]),c[e].push(n)},l(),this}},108:function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=t(47),a=o(u);n.default=[{path:"/",component:a.default},{path:"/no-page/:message",name:"no-page",component:function(e){return t.e(2,function(n){var t=[n(118)];e.apply(null,t)}.bind(this))}},{path:"/room",name:"room",component:function(e){return t.e(1,function(n){var t=[n(121)];e.apply(null,t)}.bind(this))}},{path:"/begin",name:"begin",component:function(e){return t.e(0,function(n){var t=[n(119)];e.apply(null,t)}.bind(this))}}]},109:function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={name:"app",created:function(){var e="token_"+(new Date).getTime();this.login(e)},methods:{getParams:function(){var e=window.location.search;e=e&&e.substr(1);var n=e.split("&"),t={};return n.forEach(function(e){var n=e.split("=");return t[n[0]]=n[1],t}),t}},beforeRouteEnter:function(e,n,t){t(function(e){var n=e.getParams();e.$router.replace({path:"/"+(n.page||"room")})})}}},126:function(e,n){e.exports={render:function(){var e=this;return e._h("div",{attrs:{id:"app"}},[e._h("router-view")])},staticRenderFns:[]}}});
//# sourceMappingURL=app.47c89c6b3e6903c2df74.js.map